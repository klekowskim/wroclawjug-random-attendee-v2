(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,n){e.exports=n(71)},33:function(e,t){},71:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(23),c=n.n(o),i=n(2),s=n(3),l=n(5),u=n(4),d=n(6),b=n(24),h=n.n(b),p=n(1),m=n(11),f=m.a.div({display:"flex",flexDirection:"row",height:"100%"}),v=m.a.div({flex:"1 0 0",padding:10,"> :not(:last-child)":{marginBottom:10}}),g=m.a.div({flex:"3 0 0",padding:10}),O=m.a.div({background:"#ffffff",borderRadius:4,padding:5,boxShadow:"0 0px 5px rgba(0,0,0,0.12)"}),j=m.a.button({borderRadius:4,fontSize:12,lineHeight:1.2,padding:"6px 12px",fontWeight:800,boxShadow:"none",backgroundColor:"#548C2F",borderWidth:2,borderColor:"transparent",color:"#ffffff",cursor:"pointer"},function(e){return"primary"===e.type?{backgroundColor:"#548C2F"}:"secondary"===e.type?{backgroundColor:"#FFD449"}:"danger"===e.type?{backgroundColor:"#DF2935"}:void 0}),k={form:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},innerBox:{padding:32},formGroup:{display:"flex",alignItems:"center",padding:"16px 0","> label":{flex:1},"> input":{flex:1}}},y=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=n.state.rememberMe;n.props.onSubmit({rememberMe:t})},n.onRememberMeChange=function(e){n.setState({rememberMe:e.target.checked})},n.state={rememberMe:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.rememberMe;return Object(p.c)("div",{css:k.form},Object(p.c)("form",{onSubmit:this.onSubmit,autoComplete:"off"},Object(p.c)(O,null,Object(p.c)("div",{css:k.innerBox},Object(p.c)("p",null,"First you must log in with your meetup account"),Object(p.c)("div",{css:k.formGroup},Object(p.c)("label",{htmlFor:"rememberMe"},"Remember me"),Object(p.c)("input",{type:"checkbox",id:"rememberMe",name:"rememberMe",checked:e,onChange:this.onRememberMeChange})),Object(p.c)(j,{type:"submit"},"Log in")))))}}]),t}(a.a.Component),w="rememberMe",x="auth",C={clientId:"cpft4h30lu74ove69ksqcog7sr",accessTokenUri:"https://secure.meetup.com/oauth2/access",authorizationUri:"https://secure.meetup.com/oauth2/authorize",redirectUri:"".concat(window.location.origin).concat(window.location.pathname),scopes:["basic"]},S=a.a.createContext(null),E=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onFormSubmit=function(e){localStorage.setItem(w,e.rememberMe),window.open(n.meetupClient.token.getUri(),"_self")},n.readAccessTokenFromUrl=function(){if(window.location.hash.indexOf("access_token")>0){var e=window.location.href;window.location.hash="",n.meetupClient.token.getToken(e).then(function(e){var t={accessToken:e.accessToken,tokenType:e.tokenType,expires:e.expires.getTime()};n.setState(t),"true"===localStorage.getItem(w)&&sessionStorage.setItem(x,JSON.stringify(t))},function(e){console.error(e)})}},n.isLoggedIn=function(){var e=n.state,t=e.accessToken,r=e.expires;return null!==t&&r-1e4>(new Date).getTime()},n.logOut=function(){localStorage.removeItem(w),sessionStorage.removeItem(x),n.setState({accessToken:null,tokenType:null,expires:null})},n.state={accessToken:null,tokenType:null,expires:null};var r=sessionStorage.getItem(x);if(r){var a=JSON.parse(r);n.state.accessToken=a.accessToken,n.state.tokenType=a.tokenType,n.state.expires=a.expires}return n.meetupClient=new h.a(C),n.readAccessTokenFromUrl(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.accessToken,n=e.tokenType;return this.isLoggedIn()?a.a.createElement(S.Provider,{value:{accessToken:t,tokenType:n,logOut:this.logOut}},this.props.children):a.a.createElement(y,{onSubmit:this.onFormSubmit})}}]),t}(a.a.Component),T=n(27),F=n.n(T),M=n(14),R=n.n(M),I="https://api.meetup.com",A=function(){function e(t,n){if(Object(i.a)(this,e),"bearer"!==n)throw new Error("Token type ".concat(n," not supported"));this.axios=F.a.create({baseURL:I,params:{access_token:t}})}return Object(s.a)(e,[{key:"getLoggedUserProfile",value:function(){return this.axios.get("/members/self").then(function(e){return e.data})}},{key:"getEvents",value:function(){var e=R.a.stringify({scroll:"recent_past"});return this.axios.get("/WroclawJUG/events?".concat(e)).then(function(e){return e.data})}},{key:"getAttendees",value:function(e){var t=R.a.stringify({});return this.axios.get("/WroclawJUG/events/".concat(e.id,"/attendance?").concat(t)).then(function(e){return e.data.filter(function(e){return"yes"===e.rsvp.response})})}}]),e}(),P=a.a.createContext(null),D=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(S.Consumer,null,function(t){var n=t?new A(t.accessToken,t.tokenType):null;return a.a.createElement(P.Provider,{value:n},e.props.children)})}}]),t}(a.a.Component);function L(e){return function(t){return a.a.createElement(P.Consumer,null,function(n){return a.a.createElement(e,Object.assign({api:n},t))})}}var U={item:{padding:16,fontSize:16,cursor:"pointer",":not(:first-of-type)":{borderTop:"1px solid rgba(0,0,0,.12)"},"&:hover":{boxShadow:"rgb(0,0,0,.12) 0 0 12px"}},header:{lineHeight:1.4,fontSize:18,fontWeight:600,color:"rgb(72, 72, 72)",margin:0}},W=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).onSelect=function(){var e=n.props,t=e.event;(0,e.onSelect)(t)},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.event;return Object(p.c)("li",{css:U.item,onClick:this.onSelect},Object(p.c)("div",{css:U.header},e.name),Object(p.c)("div",null,e.local_date," ",e.local_time),Object(p.c)("div",null,e.yes_rsvp_count," Members"))}}]),t}(a.a.Component),_={list:{border:"1px solid rgba(0,0,0,.12)",borderRadius:"3px",display:"block",listStyle:"none",margin:"0 0 16px",padding:0}},z=L(function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={events:[]},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.api.getEvents().then(function(t){e.setState({events:t})})}},{key:"render",value:function(){var e=this.props.onSelect,t=this.state.events;return Object(p.c)("div",null,Object(p.c)("h1",null,"Choose one of the following events:"),Object(p.c)("ul",{css:_.list},t.map(function(t){return Object(p.c)(W,{event:t,onSelect:e,key:t.id})})))}}]),t}(a.a.Component)),H=n(10),B=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.all,n=e.available;return Object(p.c)("div",null,Object(p.c)("span",null,"Available attendees: ",n," of ",t))}}]),t}(a.a.Component),J={container:{position:"fixed",backgroundColor:"white",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain",top:0,left:0,width:"100%",height:"100%",textAlign:"center"},text:{fontSize:"10vh",textShadow:"-1px 0 white, 0 1px white, 1px 0 white, 0 -1px white"}},G=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).getPhotoUrl=function(){var e=n.props.attendee;return e.member.photo?e.member.photo.highres_link||e.member.photo.photo_link:""},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.attendee,n=e.onClose;return Object(p.c)("div",{css:[J.container,{backgroundImage:"url(".concat(this.getPhotoUrl(),")")}],onClick:n},Object(p.c)("h1",{css:J.text},t.member.name))}}]),t}(a.a.Component),V={container:{width:"100%",height:"100%",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}},N=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.attendee.member.photo.photo_link;return Object(p.c)("div",{css:[V.container,{backgroundImage:"url(".concat(e,")")}]})}}]),t}(a.a.Component),q=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).showFullPreview=function(){n.setState({fullPreviewVisible:!0})},n.hideFullPreview=function(){n.setState({fullPreviewVisible:!1})},n.state={fullPreviewVisible:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.attendee,n=function(e){return{container:{width:e?192:144,borderWidth:1,borderStyle:"solid",borderColor:"rgb(235, 235, 235)",borderRadius:0,"&:hover":{boxShadow:"rgb(0,0,0,.12) 0 0 12px"}},photo:{height:e?240:180},nameContainer:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"8px 4px",minHeight:52},name:{textAlign:"center",verticalAlign:"center"}}}(e.big);return Object(p.c)(a.a.Fragment,null,Object(p.c)("div",{onClick:this.showFullPreview,css:n.container},Object(p.c)("div",{css:n.photo},t.member.photo&&Object(p.c)(N,{attendee:t})),Object(p.c)("div",{css:n.nameContainer},Object(p.c)("span",{css:n.name},t.member.name))),this.state.fullPreviewVisible&&Object(p.c)(G,{attendee:t,onClose:this.hideFullPreview}))}}]),t}(a.a.Component);q.defaultProps={big:!0};var $=q,K={container:{display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"flex-end"},attendeeContainer:{padding:8},emptyList:{fontStyle:"italic",color:"rgb(72, 72, 72)"}};var Q=function(e){var t=e.attendees;return 0===t.length?Object(p.c)("div",{css:K.emptyList},"Empty list"):Object(p.c)("div",{css:K.container},t.map(function(e,t){return Object(p.c)("div",{css:K.attendeeContainer,key:e.member.id},Object(p.c)($,{attendee:e,big:0===t}))}))};var X={buttonsContainer:{"> *":{margin:10}}},Y=L(function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).randomAttendee=function(){var e,t=n.state,r=t.attendeesToRandom,a=t.winners;if(r.length>0){var o=(e=r.length,Math.floor(Math.random()*e-1)+1);n.setState({attendeesToRandom:[].concat(Object(H.a)(r.slice(0,o)),Object(H.a)(r.slice(o+1,r.length))),winners:[].concat(Object(H.a)(a),[r[o]])})}},n.clear=function(){n.setState({attendeesToRandom:Object(H.a)(n.state.attendees),winners:[],losers:[]})},n.markLastAttendeeAsLooser=function(){var e=n.state,t=e.winners,r=e.losers;t.length>0&&n.setState({winners:t.slice(0,-1),losers:[].concat(Object(H.a)(r),[t[t.length-1]])})},n.state={attendees:[],attendeesToRandom:[],winners:[],losers:[]},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.api,r=t.event;n.getAttendees(r).then(function(t){e.setState({attendees:t,attendeesToRandom:Object(H.a)(t)})})}},{key:"render",value:function(){var e=this.state,t=e.attendees,n=e.attendeesToRandom,r=e.winners,a=e.losers;return Object(p.c)("div",null,Object(p.c)("h1",null,"Let's random!"),Object(p.c)(B,{all:t.length,available:n.length}),Object(p.c)("div",{css:X.buttonsContainer},Object(p.c)(j,{onClick:this.randomAttendee},"Random attendee"),Object(p.c)(j,{onClick:this.markLastAttendeeAsLooser},"Last not present"),Object(p.c)(j,{type:"danger",onClick:this.clear},"Clear")),Object(p.c)("div",null,Object(p.c)("h2",null,"Winners"),Object(p.c)(Q,{attendees:r.slice().reverse()}),Object(p.c)("h2",null,"Guys who missed their opportunity"),Object(p.c)(Q,{attendees:a.slice().reverse()})))}}]),t}(a.a.Component));var Z,ee={container:{display:"flex",flexDirection:"row",alignItems:"center"},photo:{maxWidth:36,maxHeight:36,marginRight:10},name:{flex:"1 0 0"}},te=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).logOut=function(){n.props.auth.logOut()},n.state={user:null},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.api.getLoggedUserProfile().then(function(t){e.setState({user:t})})}},{key:"render",value:function(){var e=this.state.user;return null===e||void 0===e?null:Object(p.c)(O,{css:ee.container},Object(p.c)("img",{src:e.photo.thumb_link,alt:"Logged user",css:ee.photo}),Object(p.c)("div",{css:ee.name},e.name),Object(p.c)(j,{type:"danger",onClick:this.logOut},"Log out"))}}]),t}(r.Component),ne=(Z=L(te),function(e){return a.a.createElement(S.Consumer,null,function(t){return a.a.createElement(Z,Object.assign({auth:t},e))})}),re={container:{display:"flex",flexDirection:"row",alignItems:"center"},eventDescription:{flex:"1 0 0"},header:{lineHeight:1.1,fontSize:14,fontWeight:600,color:"rgb(72, 72, 72)",margin:0}};var ae=function(e){var t=e.selectedEvent,n=e.onClear;return null===t||void 0===t?null:Object(p.c)(O,{css:re.container,onClick:n},Object(p.c)("div",{css:re.eventDescription},Object(p.c)("div",{css:re.header},"Selected event:"),Object(p.c)("div",null,t.name)),Object(p.c)(j,{type:"secondary"},"Change"))},oe=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onEventSelect=function(e){n.setState({selectedEvent:e})},n.onEventClear=function(){n.setState({selectedEvent:null})},n.state={selectedMeetup:null,selectedEvent:null,attendees:[]},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.selectedEvent;return a.a.createElement(f,null,a.a.createElement(v,null,a.a.createElement(ne,null),a.a.createElement(ae,{selectedEvent:e,onClear:this.onEventClear})),a.a.createElement(g,null,null===e&&a.a.createElement(z,{onSelect:this.onEventSelect}),null!==e&&a.a.createElement(Y,{event:e})))}}]),t}(a.a.Component),ce={body:{margin:0,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n\t\t\t"Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n\t\t\tsans-serif'}};var ie=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a,{styles:ce}),a.a.createElement(E,null,a.a.createElement(D,null,a.a.createElement(oe,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.bc413dd4.chunk.js.map