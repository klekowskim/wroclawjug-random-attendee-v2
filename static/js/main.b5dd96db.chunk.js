(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,n){e.exports=n(73)},33:function(e,t){},41:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),c=n.n(o),i=n(2),s=n(3),l=n(5),u=n(4),d=n(6),b=n(24),m=n.n(b),h=(n(41),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=n.state.rememberMe;n.props.onSubmit({rememberMe:t})},n.onRememberMeChange=function(e){n.setState({rememberMe:e.target.checked})},n.state={rememberMe:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.rememberMe;return r.a.createElement("div",{className:"ClientForm"},r.a.createElement("form",{onSubmit:this.onSubmit,autoComplete:"off"},r.a.createElement("p",null,"Click button below to log in with your meetup account"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"clientSecret"},"Remember me"),r.a.createElement("input",{type:"checkbox",id:"rememberMe",name:"rememberMe",checked:e,onChange:this.onRememberMeChange})),r.a.createElement("button",{type:"submit"},"Log in")))}}]),t}(r.a.Component)),p="rememberMe",f="auth",v={clientId:"cpft4h30lu74ove69ksqcog7sr",accessTokenUri:"https://secure.meetup.com/oauth2/access",authorizationUri:"https://secure.meetup.com/oauth2/authorize",redirectUri:"".concat(window.location.origin).concat(window.location.pathname),scopes:["basic"]},g=r.a.createContext(null),O=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onFormSubmit=function(e){localStorage.setItem(p,e.rememberMe),window.open(n.meetupClient.token.getUri(),"_self")},n.readAccessTokenFromUrl=function(){if(window.location.hash.indexOf("access_token")>0){var e=window.location.href;window.location.hash="",n.meetupClient.token.getToken(e).then(function(e){var t={accessToken:e.accessToken,tokenType:e.tokenType,expires:e.expires.getTime()};n.setState(t),"true"===localStorage.getItem(p)&&sessionStorage.setItem(f,JSON.stringify(t))},function(e){console.error(e)})}},n.isLoggedIn=function(){var e=n.state,t=e.accessToken,a=e.expires;return null!==t&&a-1e4>(new Date).getTime()},n.logOut=function(){localStorage.removeItem(p),sessionStorage.removeItem(f),n.setState({accessToken:null,tokenType:null,expires:null})},n.state={accessToken:null,tokenType:null,expires:null};var a=sessionStorage.getItem(f);if(a){var r=JSON.parse(a);n.state.accessToken=r.accessToken,n.state.tokenType=r.tokenType,n.state.expires=r.expires}return n.meetupClient=new m.a(v),n.readAccessTokenFromUrl(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.accessToken,n=e.tokenType;return this.isLoggedIn()?r.a.createElement(g.Provider,{value:{accessToken:t,tokenType:n,logOut:this.logOut}},this.props.children):r.a.createElement(h,{onSubmit:this.onFormSubmit})}}]),t}(r.a.Component),j=n(25),k=n.n(j),y=n(14),w=n.n(y),C="https://api.meetup.com",S=function(){function e(t,n){if(Object(i.a)(this,e),"bearer"!==n)throw new Error("Token type ".concat(n," not supported"));this.axios=k.a.create({baseURL:C,params:{access_token:t}})}return Object(s.a)(e,[{key:"getLoggedUserProfile",value:function(){return this.axios.get("/members/self").then(function(e){return e.data})}},{key:"getEvents",value:function(){var e=w.a.stringify({scroll:"recent_past"});return this.axios.get("/WroclawJUG/events?".concat(e)).then(function(e){return e.data})}},{key:"getAttendees",value:function(e){var t=w.a.stringify({});return this.axios.get("/WroclawJUG/events/".concat(e.id,"/attendance?").concat(t)).then(function(e){return e.data.filter(function(e){return"yes"===e.rsvp.response})})}}]),e}(),x=r.a.createContext(null),E=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(g.Consumer,null,function(t){var n=t?new S(t.accessToken,t.tokenType):null;return r.a.createElement(x.Provider,{value:n},e.props.children)})}}]),t}(r.a.Component);function T(e){return function(t){return r.a.createElement(x.Consumer,null,function(n){return r.a.createElement(e,Object.assign({api:n},t))})}}var F=n(11),M=F.a.div({display:"flex",flexDirection:"row",height:"100%"}),R=F.a.div({flex:"1 0 0",padding:10,"> :not(:last-child)":{marginBottom:10}}),L=F.a.div({flex:"3 0 0",padding:10}),D=F.a.div({background:"#ffffff",borderRadius:4,padding:5,boxShadow:"0 0px 5px rgba(0,0,0,0.12)"}),I=F.a.button({borderRadius:4,fontSize:12,lineHeight:1.2,padding:"6px 12px",fontWeight:800,boxShadow:"none",backgroundColor:"#548C2F",borderWidth:2,borderColor:"transparent",color:"#ffffff",cursor:"pointer"},function(e){return"primary"===e.type?{backgroundColor:"#548C2F"}:"secondary"===e.type?{backgroundColor:"#FFD449"}:"danger"===e.type?{backgroundColor:"#DF2935"}:void 0}),P=n(1),A={item:{padding:16,fontSize:16,cursor:"pointer",":not(:first-of-type)":{borderTop:"1px solid rgba(0,0,0,.12)"},"&:hover":{boxShadow:"rgb(0,0,0,.12) 0 0 12px"}},header:{lineHeight:1.4,fontSize:18,fontWeight:600,color:"rgb(72, 72, 72)",margin:0}},U=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onSelect=function(){var e=n.props,t=e.event;(0,e.onSelect)(t)},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.event;return Object(P.c)("li",{css:A.item,onClick:this.onSelect},Object(P.c)("div",{css:A.header},e.name),Object(P.c)("div",null,e.local_date," ",e.local_time),Object(P.c)("div",null,e.yes_rsvp_count," Members"))}}]),t}(r.a.Component),W={list:{border:"1px solid rgba(0,0,0,.12)",borderRadius:"3px",display:"block",listStyle:"none",margin:"0 0 16px",padding:0}},_=T(function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={events:[]},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.api.getEvents().then(function(t){e.setState({events:t})})}},{key:"render",value:function(){var e=this.props.onSelect,t=this.state.events;return Object(P.c)("div",null,Object(P.c)("h1",null,"Choose one of the following events:"),Object(P.c)("ul",{css:W.list},t.map(function(t){return Object(P.c)(U,{event:t,onSelect:e,key:t.id})})))}}]),t}(r.a.Component)),z=n(10),N=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.all,n=e.available;return Object(P.c)("div",null,Object(P.c)("span",null,"Available attendees: ",n," of ",t))}}]),t}(r.a.Component),H=(n(72),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.attendee,n=e.onClose;return r.a.createElement("div",{className:"FullMemberPreview",onClick:n},t.member.photo&&r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{src:t.member.photo.highres_link,alt:t.member.name})),r.a.createElement("h3",null,t.member.name))}}]),t}(r.a.Component)),J={container:{width:"100%",height:"100%",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}},B=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.attendee.member.photo.thumb_link;return Object(P.c)("div",{css:[J.container,{backgroundImage:"url(".concat(e,")")}]})}}]),t}(r.a.Component),V=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).showFullPreview=function(){n.setState({fullPreviewVisible:!0})},n.hideFullPreview=function(){n.setState({fullPreviewVisible:!1})},n.state={fullPreviewVisible:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.attendee,n=function(e){return{container:{width:e?192:144,borderWidth:1,borderStyle:"solid",borderColor:"rgb(235, 235, 235)",borderRadius:0,"&:hover":{boxShadow:"rgb(0,0,0,.12) 0 0 12px"}},photo:{height:e?240:180},nameContainer:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"8px 4px",minHeight:52},name:{textAlign:"center",verticalAlign:"center"}}}(e.big);return Object(P.c)(r.a.Fragment,null,Object(P.c)("div",{onClick:this.showFullPreview,css:n.container},Object(P.c)("div",{css:n.photo},t.member.photo&&Object(P.c)(B,{attendee:t})),Object(P.c)("div",{css:n.nameContainer},Object(P.c)("span",{css:n.name},t.member.name))),this.state.fullPreviewVisible&&Object(P.c)(H,{attendee:t,onClose:this.hideFullPreview}))}}]),t}(r.a.Component);V.defaultProps={big:!0};var G=V,q={container:{display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"flex-end"},attendeeContainer:{padding:8},emptyList:{fontStyle:"italic",color:"rgb(72, 72, 72)"}};var $=function(e){var t=e.attendees;return 0===t.length?Object(P.c)("div",{css:q.emptyList},"Empty list"):Object(P.c)("div",{css:q.container},t.map(function(e,t){return Object(P.c)("div",{css:q.attendeeContainer},Object(P.c)(G,{attendee:e,big:0===t,key:e.member.id}))}))};var K={buttonsContainer:{"> *":{margin:10}}},Q=T(function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).randomAttendee=function(){var e,t=n.state,a=t.attendeesToRandom,r=t.winners;if(a.length>0){var o=(e=a.length,Math.floor(Math.random()*e-1)+1);n.setState({attendeesToRandom:[].concat(Object(z.a)(a.slice(0,o)),Object(z.a)(a.slice(o+1,a.length))),winners:[].concat(Object(z.a)(r),[a[o]])})}},n.clear=function(){n.setState({attendeesToRandom:Object(z.a)(n.state.attendees),winners:[],losers:[]})},n.markLastAttendeeAsLooser=function(){var e=n.state,t=e.winners,a=e.losers;t.length>0&&n.setState({winners:t.slice(0,-1),losers:[].concat(Object(z.a)(a),[t[t.length-1]])})},n.state={attendees:[],attendeesToRandom:[],winners:[],losers:[]},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.api,a=t.event;n.getAttendees(a).then(function(t){e.setState({attendees:t,attendeesToRandom:Object(z.a)(t)})})}},{key:"render",value:function(){var e=this.state,t=e.attendees,n=e.attendeesToRandom,a=e.winners,r=e.losers;return Object(P.c)("div",null,Object(P.c)("h1",null,"Let's random!"),Object(P.c)(N,{all:t.length,available:n.length}),Object(P.c)("div",{css:K.buttonsContainer},Object(P.c)(I,{onClick:this.randomAttendee},"Random attendee"),Object(P.c)(I,{onClick:this.markLastAttendeeAsLooser},"Last not present"),Object(P.c)(I,{type:"danger",onClick:this.clear},"Clear")),Object(P.c)("div",null,Object(P.c)("h2",null,"Winners"),Object(P.c)($,{attendees:a.slice().reverse()}),Object(P.c)("h2",null,"Guys who missed their opportunity"),Object(P.c)($,{attendees:r.slice().reverse()})))}}]),t}(r.a.Component));var X,Y={container:{display:"flex",flexDirection:"row",alignItems:"center"},photo:{maxWidth:36,maxHeight:36,marginRight:10},name:{flex:"1 0 0"}},Z=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).logOut=function(){n.props.auth.logOut()},n.state={user:null},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.api.getLoggedUserProfile().then(function(t){e.setState({user:t})})}},{key:"render",value:function(){var e=this.state.user;return null===e||void 0===e?null:Object(P.c)(D,{css:Y.container},Object(P.c)("img",{src:e.photo.thumb_link,alt:"Logged user",css:Y.photo}),Object(P.c)("div",{css:Y.name},e.name),Object(P.c)(I,{type:"danger",onClick:this.logOut},"Log out"))}}]),t}(a.Component),ee=(X=T(Z),function(e){return r.a.createElement(g.Consumer,null,function(t){return r.a.createElement(X,Object.assign({auth:t},e))})}),te={container:{display:"flex",flexDirection:"row",alignItems:"center"},eventDescription:{flex:"1 0 0"},header:{lineHeight:1.1,fontSize:14,fontWeight:600,color:"rgb(72, 72, 72)",margin:0}};var ne=function(e){var t=e.selectedEvent,n=e.onClear;return null===t||void 0===t?null:Object(P.c)(D,{css:te.container,onClick:n},Object(P.c)("div",{css:te.eventDescription},Object(P.c)("div",{css:te.header},"Selected event:"),Object(P.c)("div",null,t.name)),Object(P.c)(I,{type:"secondary"},"Change"))},ae=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onEventSelect=function(e){n.setState({selectedEvent:e})},n.onEventClear=function(){n.setState({selectedEvent:null})},n.state={selectedMeetup:null,selectedEvent:null,attendees:[]},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.selectedEvent;return r.a.createElement(M,null,r.a.createElement(R,null,r.a.createElement(ee,null),r.a.createElement(ne,{selectedEvent:e,onClear:this.onEventClear})),r.a.createElement(L,null,null===e&&r.a.createElement(_,{onSelect:this.onEventSelect}),null!==e&&r.a.createElement(Q,{event:e})))}}]),t}(r.a.Component),re={body:{margin:0,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n\t\t\t"Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n\t\t\tsans-serif'}};var oe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{styles:re}),r.a.createElement(O,null,r.a.createElement(E,null,r.a.createElement(ae,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.b5dd96db.chunk.js.map